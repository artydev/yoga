---
import Layout from "../layouts/Layout.astro";
import HeroMassage from "../components/HeroOther.astro";
import LeftBlueFoliage from "../widgets/LeftBlueFoliage.astro";
import RightOrangeFoliage from "../widgets/RightOrangeFoliage.astro";
import LeftAndRightFoliage from "../widgets/LeftAndRightFoliage.astro";
import RightAndLeftFoliage from "../widgets/RightAndLeftFoliage.astro";

---

<Layout>
  <div class="container mt-16">
    <HeroMassage titre="TÃ‰MOIGNAGES" />
  </div>

  <section>
    <LeftAndRightFoliage />
    <div class="target"></div>
  </section>
</Layout>

<style>
  .target {
    max-width: 70%;
    height: 500px;
    margin:0 auto;
    background: beige;
    overflow:hidden;
    overflow-y:auto;

  }
</style>

<script>
  import van from "../js/van.js";
  import { style } from "typestyle";
  import { HandWritenMessage, csvToJson } from "../js/tools.js";

  const div = van.tags["div"];
  const p = van.tags["p"];

  const target = document.querySelector(".target");

  async function getMessages() {
    const req = await fetch("/temoignages.json");
    const data = await req.json();
    return data;
  }

  function showMessages(messages = "") {
    let titre = HandWritenMessage("TITRE", '0px', '2rem', '3rem');
    let sig = HandWritenMessage("Hello");
    target?.append(div({style: "text-align:center"},
      titre,
      div(`HEllo from the other side
      `),
      sig
    ));
  }

  showMessages()
  showMessages()
  showMessages()
  showMessages()
  showMessages()
  showMessages()
  showMessages()
  showMessages()
</script>

<script>
  (function styleLink() {
    let link = document.querySelector(
      "[data-name='temoignages']"
    ) as HTMLElement;
    link.setAttribute(
      "style",
      `
         text-decoration: orangered;
         cursor: pointer;
         color:black;
         text-decoration-line: underline;
         text-underline-offset: 5px;
         text-decoration-thickness: 0.2rem; 
         user-select: none;`
    );
  })();

  

  (function () {
  
  })();
</script>
