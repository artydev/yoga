---
import RdvsButton from "../widgets/RdvsButton.astro";
import Telephone from "../widgets/Telephone.astro";

---
<header class="flex items-center bg-white justify-center" style="max-width:1280px">
    <nav class="fixed h-12 flex w-[100%] justify-around items-center sm:top-[-60px] md:h-[60px]  z-10">
        <ul id="menu" data-status="hidden" class="duration-500 items-center bg-white  flex  relative w-full flex-col gap-2 justify-around mt-[-850px] md:mt-[0]  md:flex-row mx-auto md:w-[100%]">
            <li > 
                <a data-name="accueil" href="/">ACCUEIL</a>
            </li>
            <li>
                <a data-name="apropos" href="/apropos">À PROPOS</a>
            </li>
            <li>
                <a data-name="seances" href="/seances">SÉANCES</a>  
            </li>    
            <li>
                <a data-name="tarifs" href="/tarifs">TARIFS</a> 
            </li>   
            <li>
                <a data-name="contacts" href="/contacts">CONTACTS</a> 
            </li>
            <li>
               <Telephone />
            </li>
            <li class="rdvs">
                <RdvsButton></RdvsButton>
            </li>    
                                                          
        </ul>
        <div id="togglemenu" class= "md:hidden font-bold font text-lg mt-2" style="cursor:pointer">
            <ion-icon name="menu" class="text-3xl text-orange-500"></ion-icon>
        </div>
    </nav>

</header>

<style>
    
    nav {
        font-size: 17px;
        height: 90px; 
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        margin-top: 60px;
        background: white;
        color :rgb(44, 44, 95);
        border-bottom: 1px solid rgba(0,0,0,0.12);
      
    }

    nav ul li:hover {
        text-decoration: orangered;
        cursor: pointer;
        color:rgb(44, 44, 95);
        text-decoration-line: underline;
        text-underline-offset: 5px;
        text-decoration-thickness: 0.2rem; 
        user-select: none;
    }

    .rdvs:hover {
        text-decoration: transparent;
    }
 
    #togglemenu {
        position: absolute;
        right: 10px;
    }

   #menu {
    max-width: 1280px;
   }

    li {
        white-space: nowrap;
    }

    li:first-child {
        position: relative;
        left: 5px;;
    }


    @media(max-width:760px) {
        li {
            margin-bottom: 25px;
        }
    }
    @media(max-width:767px) {
        nav {
            top: -60px;
           
            height: 55px !important;
        }
    }

 
   a.selected {
    color:#rgb(44, 44, 95);
}
  
</style>

<script>
    function toggleMenu () {
        let m = document.getElementById("menu");
        let icon =   document?.querySelector("ion-icon");
        if (!m) return;
        let status = m.dataset.status;
        m.dataset.status = status == "hidden" ? "visible" : "hidden"
        if (m.dataset.status == "hidden") {
            m.style.marginTop = "-850px"
           icon && icon.setAttribute("name", "menu") 
        }
        else {
            m.style.marginTop = "487px"
           icon && icon.setAttribute("name", "close")
        }
        
       
    }
    document.getElementById("togglemenu")?.addEventListener("click", toggleMenu)
</script>